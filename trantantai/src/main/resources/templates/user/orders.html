<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đơn Hàng Của Tôi - BookHaven</title>
    <th:block th:replace="~{layout::link-css}"></th:block>
    <th:block th:replace="~{layout::custom-css}"></th:block>
    <style>
        /* ═══════════════════════════════════════════════════════════════════════════
           USER ORDERS PAGE - Premium Order Tracking Experience
           ═══════════════════════════════════════════════════════════════════════════ */

        .orders-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--space-xl) var(--space-lg);
        }

        /* Page Header */
        .orders-header {
            text-align: center;
            margin-bottom: var(--space-3xl);
            position: relative;
        }

        .orders-header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient-teal);
            border-radius: var(--radius-full);
        }

        .orders-title {
            font-family: var(--font-display);
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--ink);
            margin: 0 0 var(--space-sm) 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-md);
        }

        .orders-title svg {
            color: var(--teal);
        }

        .orders-subtitle {
            font-family: var(--font-body);
            font-size: 1rem;
            color: var(--slate);
            margin: 0;
        }

        /* Stats Summary */
        .orders-stats {
            display: flex;
            justify-content: center;
            gap: var(--space-xl);
            margin-bottom: var(--space-2xl);
            flex-wrap: wrap;
        }

        .stat-pill {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            background: var(--white);
            border: 2px solid var(--mist);
            border-radius: var(--radius-full);
            transition: all var(--transition-base);
        }

        .stat-pill:hover {
            border-color: var(--teal);
            background: var(--teal-muted);
        }

        .stat-pill-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stat-pill-processing .stat-pill-icon { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        .stat-pill-shipped .stat-pill-icon { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
        .stat-pill-delivered .stat-pill-icon { background: rgba(16, 185, 129, 0.1); color: #10b981; }

        .stat-pill-value {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--ink);
        }

        .stat-pill-label {
            font-size: 0.8rem;
            color: var(--slate);
        }

        /* Empty State */
        .empty-orders {
            text-align: center;
            padding: var(--space-4xl) var(--space-xl);
            background: var(--white);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--mist);
        }

        .empty-orders-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto var(--space-xl);
            background: var(--teal-muted);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--teal);
        }

        .empty-orders h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--ink);
            margin: 0 0 var(--space-sm) 0;
        }

        .empty-orders p {
            font-family: var(--font-body);
            font-size: 1rem;
            color: var(--slate);
            margin: 0 0 var(--space-xl) 0;
        }

        /* Order Cards */
        .order-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--mist);
            overflow: hidden;
            transition: all var(--transition-base);
        }

        .order-card:hover {
            box-shadow: var(--shadow-lg);
            border-color: var(--teal-muted);
            transform: translateY(-2px);
        }

        /* Order Header */
        .order-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-lg) var(--space-xl);
            background: linear-gradient(135deg, #f0fdfa 0%, var(--cloud) 100%);
            border-bottom: 1px solid var(--mist);
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        .order-info {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            flex-wrap: wrap;
        }

        .order-id-wrapper {
            display: flex;
            flex-direction: column;
        }

        .order-id-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--slate);
            font-weight: 600;
        }

        .order-id {
            font-family: var(--font-mono);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--teal);
        }

        .order-date {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            font-size: 0.85rem;
            color: var(--slate);
        }

        .order-date svg {
            opacity: 0.7;
        }

        .order-badges {
            display: flex;
            gap: var(--space-sm);
            flex-wrap: wrap;
        }

        /* Status Badge */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .status-processing {
            background: rgba(59, 130, 246, 0.1);
            color: #2563eb;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .status-shipped {
            background: rgba(245, 158, 11, 0.1);
            color: #d97706;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .status-delivered {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-cancelled {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .payment-badge {
            padding: 4px 10px;
            border-radius: var(--radius-full);
            font-size: 0.7rem;
            font-weight: 600;
            background: var(--cloud);
            color: var(--graphite);
            border: 1px solid var(--mist);
        }

        .payment-paid {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            border-color: rgba(16, 185, 129, 0.2);
        }

        /* Order Progress Tracker */
        .order-progress {
            padding: var(--space-lg) var(--space-xl);
            border-bottom: 1px solid var(--mist);
        }

        .progress-tracker {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .progress-tracker::before {
            content: '';
            position: absolute;
            top: 16px;
            left: 40px;
            right: 40px;
            height: 3px;
            background: var(--mist);
            z-index: 0;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-sm);
            position: relative;
            z-index: 1;
        }

        .step-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--white);
            border: 3px solid var(--mist);
            color: var(--slate);
            transition: all var(--transition-base);
        }

        .progress-step.completed .step-icon {
            background: var(--teal);
            border-color: var(--teal);
            color: var(--white);
        }

        .progress-step.active .step-icon {
            background: var(--white);
            border-color: var(--teal);
            color: var(--teal);
            box-shadow: 0 0 0 4px var(--teal-muted);
        }

        .progress-step.cancelled .step-icon {
            background: #dc2626;
            border-color: #dc2626;
            color: var(--white);
        }

        .step-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--slate);
            text-align: center;
        }

        .progress-step.completed .step-label,
        .progress-step.active .step-label {
            color: var(--teal-dark);
        }

        /* Order Items */
        .order-items {
            padding: var(--space-lg) var(--space-xl);
        }

        .order-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md) 0;
            border-bottom: 1px dashed var(--mist);
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .item-cover {
            width: 50px;
            height: 65px;
            background: var(--gradient-teal);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
        }

        .item-cover::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 6px;
            background: linear-gradient(90deg, var(--teal-dark) 0%, var(--teal) 50%, var(--teal-dark) 100%);
            border-radius: var(--radius-sm) 0 0 var(--radius-sm);
        }

        .item-cover svg {
            color: rgba(255, 255, 255, 0.9);
        }

        .item-info {
            flex: 1;
            min-width: 0;
        }

        .item-title {
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--ink);
            margin: 0 0 2px 0;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .item-author {
            font-size: 0.8rem;
            color: var(--slate);
            font-style: italic;
        }

        .item-qty {
            font-size: 0.85rem;
            color: var(--graphite);
            padding: 0 var(--space-lg);
        }

        .item-price {
            font-family: var(--font-mono);
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--teal);
            white-space: nowrap;
        }

        /* Order Footer */
        .order-card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-md) var(--space-xl);
            background: var(--cloud);
            border-top: 1px solid var(--mist);
        }

        .order-total {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .total-label {
            font-size: 0.9rem;
            color: var(--slate);
        }

        .total-value {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--teal);
        }

        .order-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .btn-order-detail {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm) var(--space-lg);
            background: var(--gradient-teal);
            color: var(--white);
            border: none;
            border-radius: var(--radius-full);
            font-family: var(--font-body);
            font-size: 0.85rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .btn-order-detail:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-teal);
            color: var(--white);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .orders-title {
                font-size: 1.75rem;
            }

            .orders-stats {
                gap: var(--space-md);
            }

            .stat-pill {
                flex: 1 1 calc(50% - var(--space-md));
                justify-content: center;
            }

            .order-card-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .order-badges {
                width: 100%;
            }

            .progress-tracker::before {
                left: 20px;
                right: 20px;
            }

            .step-label {
                font-size: 0.65rem;
            }

            .step-icon {
                width: 30px;
                height: 30px;
            }

            .order-item {
                flex-wrap: wrap;
            }

            .item-qty {
                padding: var(--space-xs) var(--space-sm);
            }

            .order-card-footer {
                flex-direction: column;
                gap: var(--space-md);
                text-align: center;
            }

            .order-actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">
<th:block th:replace="~{layout::header}"></th:block>

<main class="flex-grow-1">
    <div class="orders-container animate-fade-in">
        <!-- Page Header -->
        <div class="orders-header">
            <h1 class="orders-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                </svg>
                Đơn Hàng Của Tôi
            </h1>
            <p class="orders-subtitle">Theo dõi trạng thái và lịch sử đơn hàng của bạn</p>
        </div>

        <!-- Empty State -->
        <div th:if="${#lists.isEmpty(orders)}" class="empty-orders">
            <div class="empty-orders-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M4.98 4a.5.5 0 0 0-.39.188L1.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h4.46l-3.05-3.812A.5.5 0 0 0 11.02 4H4.98zm-1.17-.437A1.5 1.5 0 0 1 4.98 3h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 13H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .106-.374l3.7-4.625z"/>
                </svg>
            </div>
            <h3>Bạn chưa có đơn hàng nào</h3>
            <p>Hãy khám phá kho sách phong phú của chúng tôi và đặt hàng ngay!</p>
            <a href="/books" class="btn btn-primary btn-lg">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                    <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492z"/>
                </svg>
                Khám Phá Sách Ngay
            </a>
        </div>

        <!-- Orders List -->
        <div th:if="${not #lists.isEmpty(orders)}">
            <div class="order-card" th:each="order : ${orders}">
                <!-- Order Header -->
                <div class="order-card-header">
                    <div class="order-info">
                        <div class="order-id-wrapper">
                            <span class="order-id-label">Mã đơn hàng</span>
                            <span class="order-id" th:text="'#' + ${#strings.substring(order.id, 0, 8).toUpperCase()}">#12345678</span>
                        </div>
                        <div class="order-date">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
                            </svg>
                            <span th:text="${#dates.format(order.invoiceDate, 'dd/MM/yyyy HH:mm')}">01/01/2024 12:00</span>
                        </div>
                    </div>
                    <div class="order-badges">
                        <span class="status-badge"
                              th:classappend="${
                                  order.orderStatus.name() == 'PROCESSING' ? 'status-processing' :
                                  (order.orderStatus.name() == 'SHIPPED' ? 'status-shipped' :
                                  (order.orderStatus.name() == 'DELIVERED' ? 'status-delivered' : 'status-cancelled'))
                              }"
                              th:text="${order.orderStatus.displayName}">Đang xử lý</span>
                        <span class="payment-badge"
                              th:classappend="${order.paymentStatus.name() == 'PAID' ? 'payment-paid' : ''}"
                              th:text="${order.paymentStatus.name() == 'PAID' ? 'Đã thanh toán' :
                                        (order.paymentStatus.name() == 'COD_PENDING' ? 'COD' : 'Chờ thanh toán')}">COD</span>
                    </div>
                </div>

                <!-- Progress Tracker -->
                <div class="order-progress">
                    <div class="progress-tracker">
                        <!-- Step 1: Order Placed -->
                        <div class="progress-step completed">
                            <div class="step-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"/>
                                </svg>
                            </div>
                            <span class="step-label">Đặt hàng</span>
                        </div>

                        <!-- Step 2: Processing -->
                        <div class="progress-step"
                             th:classappend="${order.orderStatus.name() != 'CANCELLED' ? 'completed' : ''}">
                            <div class="step-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path th:if="${order.orderStatus.name() != 'CANCELLED'}" d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"/>
                                    <path th:if="${order.orderStatus.name() == 'CANCELLED'}" d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                </svg>
                            </div>
                            <span class="step-label">Xác nhận</span>
                        </div>

                        <!-- Step 3: Shipped -->
                        <div class="progress-step"
                             th:classappend="${order.orderStatus.name() == 'SHIPPED' or order.orderStatus.name() == 'DELIVERED' ? 'completed' :
                                             (order.orderStatus.name() == 'PROCESSING' ? 'active' : '')}">
                            <div class="step-icon" th:classappend="${order.orderStatus.name() == 'CANCELLED' ? 'cancelled' : ''}">
                                <svg th:if="${order.orderStatus.name() != 'CANCELLED'}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path th:if="${order.orderStatus.name() == 'SHIPPED' or order.orderStatus.name() == 'DELIVERED'}" d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"/>
                                    <path th:unless="${order.orderStatus.name() == 'SHIPPED' or order.orderStatus.name() == 'DELIVERED'}" d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5zm1.294 7.456A2 2 0 0 1 4.732 11h5.536a2 2 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456M12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12zM4 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2m8 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2"/>
                                </svg>
                                <svg th:if="${order.orderStatus.name() == 'CANCELLED'}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                                </svg>
                            </div>
                            <span class="step-label" th:text="${order.orderStatus.name() == 'CANCELLED' ? 'Đã hủy' : 'Đang giao'}">Đang giao</span>
                        </div>

                        <!-- Step 4: Delivered -->
                        <div class="progress-step"
                             th:if="${order.orderStatus.name() != 'CANCELLED'}"
                             th:classappend="${order.orderStatus.name() == 'DELIVERED' ? 'completed' :
                                             (order.orderStatus.name() == 'SHIPPED' ? 'active' : '')}">
                            <div class="step-icon">
                                <svg th:if="${order.orderStatus.name() == 'DELIVERED'}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"/>
                                </svg>
                                <svg th:unless="${order.orderStatus.name() == 'DELIVERED'}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
                                </svg>
                            </div>
                            <span class="step-label">Đã giao</span>
                        </div>
                    </div>
                </div>

                <!-- Order Items -->
                <div class="order-items">
                    <div class="order-item" th:each="item : ${order.itemInvoices}">
                        <div class="item-cover">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492z"/>
                            </svg>
                        </div>
                        <div class="item-info">
                            <h4 class="item-title" th:text="${item.book != null ? item.book.title : 'Sản phẩm'}">Tên sách</h4>
                            <span class="item-author" th:if="${item.book != null}" th:text="${item.book.author}">Tác giả</span>
                        </div>
                        <span class="item-qty">x<span th:text="${item.quantity}">1</span></span>
                        <span class="item-price" th:if="${item.book != null}">
                            <span th:text="${#numbers.formatDecimal(item.quantity * item.book.price, 0, 'COMMA', 0, 'POINT')}">100,000</span>đ
                        </span>
                    </div>
                </div>

                <!-- Order Footer -->
                <div class="order-card-footer">
                    <div class="order-total">
                        <span class="total-label">Tổng cộng:</span>
                        <span class="total-value">
                            <span th:text="${#numbers.formatDecimal(order.price, 0, 'COMMA', 0, 'POINT')}">500,000</span>đ
                        </span>
                    </div>
                    <div class="order-actions">
                        <a th:href="@{/orders/{id}(id=${order.id})}" class="btn-order-detail">
                            Xem chi tiết
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<th:block th:replace="~{layout::footer}"></th:block>
</body>
</html>
