<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản Lý Danh Mục - BookHaven Admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/admin.css?v=5}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400;1,600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
<div class="admin-wrapper">
    <th:block th:replace="~{admin/layout::sidebar}"></th:block>

    <div class="admin-main">
        <th:block th:replace="~{admin/layout::topbar}"></th:block>

        <main class="admin-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"/>
                            <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
                        </svg>
                        Quản Lý Danh Mục
                    </h1>
                    <p class="page-subtitle">Quản lý các danh mục sách trong hệ thống</p>
                </div>
                <div class="page-actions">
                    <a href="/admin/categories/add" class="btn-admin btn-admin-primary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                        </svg>
                        Thêm danh mục
                    </a>
                </div>
            </div>

            <!-- Table Card -->
            <div class="admin-table-card">
                <div class="table-header">
                    <div class="table-title">
                        <h2>Danh sách danh mục</h2>
                        <span class="table-count" th:text="'(' + ${categories.size()} + ' danh mục)'"></span>
                    </div>
                    <div class="table-actions">
                        <div class="table-search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                            </svg>
                            <input type="text" placeholder="Tìm kiếm danh mục..." id="searchInput">
                        </div>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class="admin-table" id="categoriesTable">
                        <thead>
                        <tr>
                            <th style="width: 80px;">ID</th>
                            <th>Tên danh mục</th>
                            <th style="width: 150px;">Số sách</th>
                            <th style="width: 150px;">Thao tác</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="category : ${categories}">
                            <td>
                                <span class="table-id" th:text="'#' + ${category.id}">#1</span>
                            </td>
                            <td>
                                <div class="category-cell">
                                    <div class="category-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                        </svg>
                                    </div>
                                    <span class="category-name" th:text="${category.name}">Văn học</span>
                                </div>
                            </td>
                            <td>
                                <span class="book-count" th:data-count="${bookCountMap[category.id]}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492z"/>
                                    </svg>
                                    <span th:text="${bookCountMap[category.id]}">0</span> sách
                                </span>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <a th:href="@{/admin/categories/edit/{id}(id=${category.id})}" class="btn-admin btn-admin-warning btn-admin-sm" title="Sửa">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293z"/>
                                        </svg>
                                    </a>
                                    <a th:href="@{/admin/categories/delete/{id}(id=${category.id})}"
                                       class="btn-admin btn-admin-danger btn-admin-sm delete-category-btn"
                                       title="Xóa"
                                       th:data-book-count="${bookCountMap[category.id]}"
                                       th:data-category-name="${category.name}">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                                            <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                                        </svg>
                                    </a>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Empty State -->
                <div class="table-empty" th:if="${categories.empty}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"/>
                        <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
                    </svg>
                    <h3>Chưa có danh mục nào</h3>
                    <p>Bắt đầu thêm danh mục vào hệ thống</p>
                    <a href="/admin/categories/add" class="btn-admin btn-admin-primary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                        </svg>
                        Thêm danh mục đầu tiên
                    </a>
                </div>
            </div>
        </main>
    </div>
</div>

<div class="sidebar-overlay" id="sidebarOverlay"></div>

<!-- Delete Confirmation Modal -->
<div class="delete-modal-overlay" id="deleteModal" style="display: none;">
    <div class="delete-modal">
        <div class="delete-modal-icon" id="modalIcon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
            </svg>
        </div>
        <h3 class="delete-modal-title" id="modalTitle">Xác nhận xóa</h3>
        <p class="delete-modal-message" id="modalMessage">Bạn có chắc muốn xóa danh mục này?</p>
        <div class="delete-modal-warning" id="modalWarning" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
            </svg>
            <span id="warningText"></span>
        </div>
        <div class="delete-modal-actions">
            <button type="button" class="btn-modal btn-modal-cancel" id="cancelDelete">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                </svg>
                Hủy bỏ
            </button>
            <button type="button" class="btn-modal btn-modal-delete" id="confirmDelete">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                </svg>
                Xóa danh mục
            </button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/admin.js}"></script>
<script>
    // Table Search (specific to this page)
    document.getElementById('searchInput')?.addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const rows = document.querySelectorAll('#categoriesTable tbody tr');

        rows.forEach(row => {
            const text = row.textContent.toLowerCase();
            row.style.display = text.includes(searchTerm) ? '' : 'none';
        });
    });

    // Delete Modal functionality
    const deleteModal = document.getElementById('deleteModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMessage = document.getElementById('modalMessage');
    const modalWarning = document.getElementById('modalWarning');
    const warningText = document.getElementById('warningText');
    const modalIcon = document.getElementById('modalIcon');
    const cancelBtn = document.getElementById('cancelDelete');
    const confirmBtn = document.getElementById('confirmDelete');
    let deleteHref = '';

    function openDeleteModal(categoryName, bookCount, href) {
        deleteHref = href;

        if (bookCount > 0) {
            // Dangerous delete - has books
            modalIcon.classList.add('danger');
            modalTitle.textContent = 'Cảnh báo xóa danh mục';
            modalMessage.innerHTML = `Bạn có chắc muốn xóa danh mục <strong>"${categoryName}"</strong>?`;
            modalWarning.style.display = 'flex';
            warningText.innerHTML = `<strong>${bookCount}</strong> sách trong danh mục này sẽ bị xóa vĩnh viễn!`;
            confirmBtn.classList.add('danger');
        } else {
            // Safe delete - no books
            modalIcon.classList.remove('danger');
            modalTitle.textContent = 'Xác nhận xóa danh mục';
            modalMessage.innerHTML = `Bạn có chắc muốn xóa danh mục <strong>"${categoryName}"</strong>?`;
            modalWarning.style.display = 'none';
            confirmBtn.classList.remove('danger');
        }

        deleteModal.style.display = 'flex';
        // Force reflow before adding active class for animation
        deleteModal.offsetHeight;
        deleteModal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeDeleteModal() {
        deleteModal.classList.remove('active');
        document.body.style.overflow = '';
        // Wait for animation to finish before hiding
        setTimeout(() => {
            deleteModal.style.display = 'none';
        }, 300);
        deleteHref = '';
    }

    // Event Listeners
    document.querySelectorAll('.delete-category-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            const bookCount = parseInt(this.dataset.bookCount) || 0;
            const categoryName = this.dataset.categoryName;
            const href = this.getAttribute('href');
            openDeleteModal(categoryName, bookCount, href);
        });
    });

    cancelBtn.addEventListener('click', closeDeleteModal);

    confirmBtn.addEventListener('click', function() {
        if (deleteHref) {
            // Add loading state
            this.innerHTML = '<span class="spinner"></span> Đang xóa...';
            this.disabled = true;
            window.location.href = deleteHref;
        }
    });

    // Close on overlay click
    deleteModal.addEventListener('click', function(e) {
        if (e.target === deleteModal) {
            closeDeleteModal();
        }
    });

    // Close on Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && deleteModal.classList.contains('active')) {
            closeDeleteModal();
        }
    });
</script>

<style>
/* Additional styles for categories page */
.page-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: var(--space-xl);
}

.page-title {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin: 0 0 var(--space-xs);
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--admin-text);
}

.page-title svg {
    color: var(--admin-accent);
}

.page-subtitle {
    margin: 0;
    color: var(--admin-text-tertiary);
    font-size: 0.9rem;
}

/* Table Enhancements */
.table-count {
    font-size: 0.875rem;
    color: var(--admin-text-tertiary);
    margin-left: var(--space-sm);
}

.table-search {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-surface-hover);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
}

.table-search input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--admin-text);
    font-size: 0.875rem;
    width: 200px;
}

.table-search input::placeholder {
    color: var(--admin-text-tertiary);
}

.table-search svg {
    color: var(--admin-text-tertiary);
}

/* Table Cells */
.table-id {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: var(--admin-text-tertiary);
}

.category-cell {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.category-icon {
    width: 40px;
    height: 40px;
    background: var(--admin-accent-muted);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--admin-accent);
    flex-shrink: 0;
}

.category-name {
    font-weight: 500;
    color: var(--admin-text);
}

.book-count {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    color: var(--admin-text-secondary);
    font-size: 0.875rem;
}

.book-count svg {
    color: var(--admin-text-tertiary);
}

.action-buttons {
    display: flex;
    gap: var(--space-xs);
}

/* Table Empty */
.table-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-3xl);
    text-align: center;
    color: var(--admin-text-tertiary);
}

.table-empty svg {
    margin-bottom: var(--space-lg);
    opacity: 0.5;
}

.table-empty h3 {
    margin: 0 0 var(--space-sm);
    color: var(--admin-text);
}

.table-empty p {
    margin: 0 0 var(--space-lg);
}

@media (max-width: 768px) {
    .page-header {
        flex-direction: column;
        gap: var(--space-lg);
    }

    .table-actions {
        width: 100%;
    }

    .table-search {
        width: 100%;
    }

    .table-search input {
        width: 100%;
    }
}

/* ==========================================
   DELETE CONFIRMATION MODAL
   ========================================== */
.delete-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: var(--space-lg);
}

.delete-modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.delete-modal {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 20px;
    padding: var(--space-2xl);
    max-width: 420px;
    width: 100%;
    box-shadow:
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    transform: scale(0.9) translateY(20px);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.delete-modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg,
        var(--admin-accent) 0%,
        var(--admin-secondary) 50%,
        var(--admin-accent) 100%);
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
}

@keyframes shimmer {
    0%, 100% { background-position: 200% 0; }
    50% { background-position: 0 0; }
}

.delete-modal-overlay.active .delete-modal {
    transform: scale(1) translateY(0);
}

/* Modal Icon */
.delete-modal-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto var(--space-lg);
    background: linear-gradient(145deg, #fef3c7, #fde68a);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #d97706;
    box-shadow:
        0 10px 30px rgba(217, 119, 6, 0.2),
        inset 0 -3px 0 rgba(0, 0, 0, 0.05);
    animation: iconPulse 2s ease-in-out infinite;
    position: relative;
}

.delete-modal-icon::after {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    border: 2px dashed #fcd34d;
    animation: rotate 10s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.delete-modal-icon.danger {
    background: linear-gradient(145deg, #fee2e2, #fecaca);
    color: #dc2626;
    box-shadow: 0 10px 30px rgba(220, 38, 38, 0.2);
}

.delete-modal-icon.danger::after {
    border-color: #f87171;
}

@keyframes iconPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

/* Modal Title */
.delete-modal-title {
    font-family: var(--font-display);
    font-size: 1.375rem;
    font-weight: 700;
    color: var(--admin-text);
    margin: 0 0 var(--space-sm);
    letter-spacing: -0.02em;
}

/* Modal Message */
.delete-modal-message {
    color: var(--admin-text-secondary);
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 0 0 var(--space-lg);
}

.delete-modal-message strong {
    color: var(--admin-text);
    font-weight: 600;
}

/* Warning Box */
.delete-modal-warning {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: linear-gradient(145deg, #fef2f2, #fee2e2);
    border: 1px solid #fecaca;
    border-radius: var(--radius-md);
    margin-bottom: var(--space-xl);
    text-align: left;
    animation: warningShake 0.5s ease-in-out;
}

@keyframes warningShake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
    20%, 40%, 60%, 80% { transform: translateX(2px); }
}

.delete-modal-warning svg {
    flex-shrink: 0;
    color: #dc2626;
    margin-top: 2px;
}

.delete-modal-warning span {
    font-size: 0.875rem;
    color: #991b1b;
    line-height: 1.5;
}

.delete-modal-warning strong {
    color: #7f1d1d;
    font-weight: 700;
}

/* Modal Actions */
.delete-modal-actions {
    display: flex;
    gap: var(--space-md);
    margin-top: var(--space-lg);
}

.btn-modal {
    flex: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-lg);
    font-family: var(--font-body);
    font-size: 0.9rem;
    font-weight: 600;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.btn-modal::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.15) 0%, transparent 50%);
    pointer-events: none;
}

.btn-modal-cancel {
    background: linear-gradient(145deg, #f1f5f9, #e2e8f0);
    color: var(--admin-text-secondary);
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.05),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.btn-modal-cancel:hover {
    background: linear-gradient(145deg, #e2e8f0, #cbd5e1);
    color: var(--admin-text);
    transform: translateY(-1px);
}

.btn-modal-delete {
    background: linear-gradient(145deg, var(--admin-accent), #0f766e);
    color: white;
    box-shadow:
        0 4px 12px rgba(13, 148, 136, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.btn-modal-delete:hover {
    background: linear-gradient(145deg, #0f766e, #115e59);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(13, 148, 136, 0.4);
}

.btn-modal-delete.danger {
    background: linear-gradient(145deg, #ef4444, #dc2626);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.btn-modal-delete.danger:hover {
    background: linear-gradient(145deg, #dc2626, #b91c1c);
    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
}

.btn-modal:active {
    transform: translateY(0) scale(0.98);
}

.btn-modal:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none !important;
}

/* Loading Spinner */
.spinner {
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Mobile responsive */
@media (max-width: 480px) {
    .delete-modal {
        padding: var(--space-xl);
        margin: var(--space-md);
    }

    .delete-modal-actions {
        flex-direction: column-reverse;
    }

    .delete-modal-icon {
        width: 64px;
        height: 64px;
    }

    .delete-modal-icon svg {
        width: 24px;
        height: 24px;
    }
}
</style>
</body>
</html>
